{% load static %}
<!DOCTYPE html>
<head>
<link rel="stylesheet" href="{% static 'css//main.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/60745a5abb.js" crossorigin="anonymous"></script>

<script type="text/javascript">
    var user = '{{request.user}}'


function getToken(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
const csrftoken = getToken('csrftoken');


function getCookie(name) {

    let cookieArr = document.cookie.split(";");


    for(var i = 0;i < cookieArr.length;i++) {
        cookiePair = cookieArr[i].split("=");


        if (name == cookiePair[0].trim()) {

            return decodeURIComponent(cookiePair[1]);
        }
    };

    return null;

}
let cart = JSON.parse(getCookie('cart'))
if(cart == undefined){
    cart = {}
    console.log('Cart was created!')
    document.cookie = 'cart=' + JSON.stringify(cart)+ ";domain;path=/"
}

console.log('Cart:', cart)
 
</script>
</head>
<body>
    
{% block content %}



{% endblock  %}
<script type="text/javascript" src="{% static 'js/cart.js' %}">
    
</script>
</body>